<?xml version="1.0" encoding="UTF-8"?>
<!--
  ANIMATION SYSTEM PROMPT
  –°–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π –≤ –∏–≥—Ä–µ Life of Tatyana
  –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Å–ø—Ä–∞–π—Ç–æ–≤, –∞—Ç–ª–∞—Å–æ–≤, —Ç–∞–π–º–∏–Ω–≥–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  
  –í–µ—Ä—Å–∏—è: 1.0
  –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2026-03-01
-->

<animation-system version="1.0" project="life-of-t">

  <!-- –û–ë–©–ò–ï –ü–†–ò–ù–¶–ò–ü–´ –ê–ù–ò–ú–ê–¶–ò–ò -->
  <animation-principles reference="Punch Club">
    <style>Pixel Art Frame-by-Frame Animation</style>
    <inspiration primary="Punch Club" secondary="Stardew Valley, Undertale" />
    <mood>–ü–ª–∞–≤–Ω–∞—è, —É—é—Ç–Ω–∞—è, –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–∞—è, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è</mood>
    <performance-priority>60 FPS –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö</performance-priority>
  </animation-principles>

  <!-- –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø -->
  <technical-constraints>
    <frame-rate target="60fps" min="30fps" reason="–ü–ª–∞–≤–Ω–æ—Å—Ç—å –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö" />
    <sprite-sheet-size max="2048x2048" reason="–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—ã—Ö GPU" />
    <individual-sprite-size max="256x256" recommended="64x64 - 128x128" />
    <max-animation-frames recommended="20-30" max="50" reason="–ë–∞–ª–∞–Ω—Å –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞" />
    <format primary="WebP" fallback="PNG" reason="–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é" />
    <compression quality="85-90%" reason="–ë–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞" />
  </technical-constraints>

  <!-- –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ü–†–ê–ô–¢–û–í -->
  <sprite-architecture>
    <atlas-format type="horizontal-strip" reason="–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞">
      <description>–í—Å–µ –∫–∞–¥—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –æ–¥–Ω—É –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é –ø–æ–ª–æ—Å–∫—É</description>
      <frame-separator width="0px" reason="–ë–µ–∑ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞" />
      <background transparency="true" alpha-channel="required" />
    </atlas-format>

    <naming-convention>
      <pattern>{character}-{animation}-{state}.webp</pattern>
      <examples>
        <example>tatyana-idle-happy.webp</example>
        <example>sam-walk-normal.webp</example>
        <example>husband-work-focused.webp</example>
      </examples>
    </naming-convention>

    <organization>
      <structure>
        /sprites/
          /characters/
            /tatyana/
              idle.webp
              walk.webp
              work.webp
              sleep.webp
            /sam/
              idle.webp
              walk.webp
              run.webp
            /husband/
              idle.webp
              work.webp
          /objects/
            /interactive/
              bed-states.webp
              computer-states.webp
          /ui/
            /effects/
              sparkle.webp
              heart.webp
      </structure>
    </organization>
  </sprite-architecture>

  <!-- ATLAS CONFIGURATION -->
  <atlas-configuration>
    <metadata-file path="/assets/atlas-config.json" format="JSON">
      <description>–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –∞—Ç–ª–∞—Å–æ–≤</description>
      <structure>
        {
          "characters": {
            "tatyana": {
              "idle": { "frames": 6, "fps": 8, "loop": true },
              "walk": { "frames": 8, "fps": 10, "loop": true },
              "work": { "frames": 10, "fps": 6, "loop": true }
            }
          }
        }
      </structure>
    </metadata-file>

    <frame-data required="true">
      <field name="frameWidth" type="number" required="true" />
      <field name="frameHeight" type="number" required="true" />
      <field name="frames" type="number" description="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–¥—Ä–æ–≤ –≤ –∞—Ç–ª–∞—Å–µ" />
      <field name="fps" type="number" description="–ö–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É" />
      <field name="loop" type="boolean" description="–ó–∞—Ü–∏–∫–ª–∏–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é" />
      <field name="reverse" type="boolean" description="–ü—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç—å –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è" />
    </frame-data>
  </atlas-configuration>

  <!-- –¢–ò–ü–´ –ê–ù–ò–ú–ê–¶–ò–ô -->
  <animation-types>
    <!-- –ü–ï–†–°–û–ù–ê–ñ–ò -->
    <character-animations>
      <animation name="idle" priority="high">
        <description>–ê–Ω–∏–º–∞—Ü–∏—è –æ–∂–∏–¥–∞–Ω–∏—è –≤ –ø–æ–∫–æ–µ</description>
        <frames min="4" recommended="6-8" max="12" />
        <fps recommended="6-8" />
        <loop required="true" />
        <variations>
          <variation name="normal" mood="–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π" />
          <variation name="happy" mood="—Å—á–∞—Å—Ç–ª–∏–≤—ã–π" />
          <variation name="sad" mood="–≥—Ä—É—Å—Ç–Ω—ã–π" />
          <variation name="tired" mood="—É—Å—Ç–∞–≤—à–∏–π" />
        </variations>
        <details>
          <detail>–õ—ë–≥–∫–æ–µ –ø–æ–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ç–µ–ª–∞</detail>
          <detail>–ú–æ—Ä–≥–∞–Ω–∏–µ –≥–ª–∞–∑ (–∫–∞–∂–¥—ã–µ 2-3 —Å–µ–∫—É–Ω–¥—ã)</detail>
          <detail>–î—ã—Ö–∞–Ω–∏–µ (–ø–ª–∞–≤–Ω—ã–π –ø–æ–¥—ä—ë–º/–æ–ø—É—Å–∫–∞–Ω–∏–µ –≥—Ä—É–¥–∏)</detail>
          <detail>–ú–∏–∫—Ä–æ-–¥–≤–∏–∂–µ–Ω–∏—è –≤–æ–ª–æ—Å/–æ–¥–µ–∂–¥—ã</detail>
        </details>
      </animation>

      <animation name="walk" priority="high">
        <description>–ê–Ω–∏–º–∞—Ü–∏—è —Ö–æ–¥—å–±—ã</description>
        <frames min="6" recommended="8-10" max="16" />
        <fps recommended="10-12" />
        <loop required="true" />
        <details>
          <detail>–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —à–∞–≥–∞ (–ª–µ–≤–∞—è-–ø—Ä–∞–≤–∞—è –Ω–æ–≥–∞)</detail>
          <detail>–î–≤–∏–∂–µ–Ω–∏–µ —Ä—É–∫ –≤ –ø—Ä–æ—Ç–∏–≤–æ—Ñ–∞–∑–µ —Å –Ω–æ–≥–∞–º–∏</detail>
          <detail>–õ—ë–≥–∫–æ–µ –ø–æ–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥–æ–ª–æ–≤—ã/—Ç–µ–ª–∞</detail>
          <detail>–ò–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π —É–≥–æ–ª (4 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –≤–≤–µ—Ä—Ö, –≤–Ω–∏–∑, –≤–ª–µ–≤–æ, –≤–ø—Ä–∞–≤–æ)</detail>
        </details>
      </animation>

      <animation name="work" priority="medium">
        <description>–ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã (–∑–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º, –≥–æ—Ç–æ–≤–∫–∞, —É–±–æ—Ä–∫–∞)</description>
        <frames min="8" recommended="10-12" max="20" />
        <fps recommended="6-8" />
        <loop required="true" />
        <variations>
          <variation name="computer" context="—Ä–∞–±–æ—Ç–∞ –∑–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º" />
          <variation name="cooking" context="–≥–æ—Ç–æ–≤–∫–∞" />
          <variation name="cleaning" context="—É–±–æ—Ä–∫–∞" />
        </variations>
      </animation>

      <animation name="sleep" priority="medium">
        <description>–ê–Ω–∏–º–∞—Ü–∏—è —Å–Ω–∞</description>
        <frames min="4" recommended="6" max="8" />
        <fps recommended="4" />
        <loop required="true" />
        <details>
          <detail>–ú–µ–¥–ª–µ–Ω–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ</detail>
          <detail>–õ—ë–≥–∫–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –≤–æ–ª–æ—Å</detail>
          <detail>–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–∑—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</detail>
        </details>
      </animation>

      <animation name="interaction" priority="medium">
        <description>–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏</description>
        <frames min="6" recommended="8-10" max="15" />
        <fps recommended="8" />
        <loop required="false" />
        <variations>
          <variation name="pickup" context="–ø–æ–¥–Ω—è—Ç—å –ø—Ä–µ–¥–º–µ—Ç" />
          <variation name="use-phone" context="–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω" />
          <variation name="open-door" context="–æ—Ç–∫—Ä—ã—Ç—å –¥–≤–µ—Ä—å" />
          <variation name="pet-animal" context="–ø–æ–≥–ª–∞–¥–∏—Ç—å –∂–∏–≤–æ—Ç–Ω–æ–µ" />
        </variations>
      </animation>

      <animation name="emotion" priority="low">
        <description>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏</description>
        <frames min="6" recommended="8" max="12" />
        <fps recommended="8" />
        <loop required="false" />
        <variations>
          <variation name="joy" emoji="üòä" />
          <variation name="love" emoji="‚ù§Ô∏è" />
          <variation name="surprise" emoji="üò≤" />
          <variation name="anger" emoji="üò†" />
        </variations>
      </animation>
    </character-animations>

    <!-- –û–ë–™–ï–ö–¢–´ –ò –û–ö–†–£–ñ–ï–ù–ò–ï -->
    <object-animations>
      <animation name="ambient" priority="low">
        <description>–§–æ–Ω–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è</description>
        <frames min="4" recommended="6-8" max="12" />
        <fps recommended="4-6" />
        <loop required="true" />
        <examples>
          <example>–ú–µ—Ä—Ü–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞</example>
          <example>–ü–æ–∫–∞—á–∏–≤–∞–Ω–∏–µ —à—Ç–æ—Ä –æ—Ç –≤–µ—Ç—Ä–∞</example>
          <example>–ú–∏–≥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ</example>
          <example>–¢–∏–∫–∞—é—â–∏–µ —á–∞—Å—ã</example>
        </examples>
      </animation>

      <animation name="interactive-highlight" priority="high">
        <description>–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</description>
        <frames min="4" recommended="6" max="8" />
        <fps recommended="6" />
        <loop required="true" />
        <effect>
          <type>–ü–ª–∞–≤–Ω–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ –ø–æ –∫–æ–Ω—Ç—É—Ä—É</type>
          <color>var(--color-primary) —Å opacity 0.3-0.7</color>
          <pulse>–ü—É–ª—å—Å–∞—Ü–∏—è 1-1.5 —Å–µ–∫—É–Ω–¥—ã</pulse>
        </effect>
      </animation>

      <animation name="state-change" priority="medium">
        <description>–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞</description>
        <frames min="3" recommended="5-6" max="10" />
        <fps recommended="10" />
        <loop required="false" />
        <examples>
          <example>–ö—Ä–æ–≤–∞—Ç—å: –æ–ø—Ä—è—Ç–Ω–∞—è ‚Üí –ø–æ–º—è—Ç–∞—è</example>
          <example>–ö–æ–º–ø—å—é—Ç–µ—Ä: –≤—ã–∫–ª—é—á–µ–Ω ‚Üí –≤–∫–ª—é—á–µ–Ω</example>
          <example>–û–∫–Ω–æ: –¥–µ–Ω—å ‚Üí –Ω–æ—á—å</example>
        </examples>
      </animation>
    </object-animations>

    <!-- UI –≠–§–§–ï–ö–¢–´ -->
    <ui-animations>
      <animation name="particle-effect" priority="low">
        <description>–ß–∞—Å—Ç–∏—Ü—ã –¥–ª—è –Ω–∞–≥—Ä–∞–¥ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</description>
        <frames min="8" recommended="12-16" max="24" />
        <fps recommended="12-15" />
        <loop required="false" />
        <examples>
          <example>–ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏</example>
          <example>–ó–≤—ë–∑–¥–æ—á–∫–∏ –ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ –Ω–∞–≤—ã–∫–∞</example>
          <example>–°–µ—Ä–¥–µ—á–∫–∏ –ø—Ä–∏ —É–ª—É—á—à–µ–Ω–∏–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π</example>
        </examples>
      </animation>

      <animation name="notification" priority="medium">
        <description>–ê–Ω–∏–º–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</description>
        <frames min="6" recommended="8" max="12" />
        <fps recommended="10" />
        <loop required="false" />
        <flow>
          <phase name="enter" duration="300ms" easing="ease-out" />
          <phase name="hold" duration="2000ms" />
          <phase name="exit" duration="300ms" easing="ease-in" />
        </flow>
      </animation>
    </ui-animations>
  </animation-types>

  <!-- –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ -->
  <performance-optimization>
    <sprite-batching enabled="true">
      <description>–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–ø—Ä–∞–π—Ç–æ–≤ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ draw calls</description>
      <max-batch-size sprites="100" reason="–ë–∞–ª–∞–Ω—Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏" />
    </sprite-batching>

    <animation-pooling enabled="true">
      <description>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</description>
      <pool-size initial="20" max="50" />
    </animation-pooling>

    <culling enabled="true">
      <viewport-culling>–ù–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –≤–Ω–µ viewport</viewport-culling>
      <distance-culling>–£–ø—Ä–æ—â–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –≤–¥–∞–ª–∏ –æ—Ç –∫–∞–º–µ—Ä—ã</distance-culling>
    </culling>

    <frame-skip adaptive="true">
      <description>–ü—Ä–æ–ø—É—Å–∫ –∫–∞–¥—Ä–æ–≤ –ø—Ä–∏ –Ω–∏–∑–∫–æ–º FPS</description>
      <threshold fps="30" action="reduce-quality" />
      <threshold fps="20" action="skip-frames" />
    </frame-skip>

    <preloading strategy="critical-first">
      <critical priority="high">
        <asset>tatyana-idle.webp</asset>
        <asset>tatyana-walk.webp</asset>
        <asset>interactive-highlights.webp</asset>
      </critical>
      <deferred priority="low" load="on-demand">
        <asset>emotion-animations</asset>
        <asset>particle-effects</asset>
      </deferred>
    </preloading>
  </performance-optimization>

  <!-- –°–ò–°–¢–ï–ú–ê –¢–ê–ô–ú–ò–ù–ì–ê -->
  <timing-system>
    <frame-timing method="requestAnimationFrame" reason="–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å browser refresh rate" />
    
    <interpolation enabled="true">
      <description>–°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏</description>
      <method>Linear interpolation –¥–ª—è –ø–æ–∑–∏—Ü–∏–π</method>
      <method>No interpolation –¥–ª—è pixel art —Å–ø—Ä–∞–π—Ç–æ–≤ (—á—ë—Ç–∫–æ—Å—Ç—å)</method>
    </interpolation>

    <synchronization>
      <rule>–í—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å game loop</rule>
      <rule>Delta time –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç FPS</rule>
      <rule>–ü–∞—É–∑—ã –∏ –∑–∞–º–µ–¥–ª–µ–Ω–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ –≤—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</rule>
    </synchronization>

    <fps-adjustment adaptive="true">
      <description>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</description>
      <monitor interval="1000ms" />
      <action threshold="<45fps" response="reduce-animation-complexity" />
      <action threshold=">55fps" response="restore-full-quality" />
    </fps-adjustment>
  </timing-system>

  <!-- –ü–ï–†–ï–•–û–î–´ –ú–ï–ñ–î–£ –ê–ù–ò–ú–ê–¶–ò–Ø–ú–ò -->
  <animation-transitions>
    <blend-mode type="immediate" reason="Pixel art –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –±–ª–µ–Ω–¥–∏–Ω–≥–∞">
      <description>–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–º–µ–Ω–∞ –∫–∞–¥—Ä–∞ –º–µ–∂–¥—É –∞–Ω–∏–º–∞—Ü–∏—è–º–∏</description>
    </blend-mode>

    <state-machine enabled="true">
      <description>–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏</description>
      <transitions>
        <transition from="idle" to="walk" condition="movement-started" />
        <transition from="walk" to="idle" condition="movement-stopped" />
        <transition from="any" to="sleep" condition="sleep-action" />
        <transition from="sleep" to="idle" condition="wake-up" priority="immediate" />
      </transitions>
      <rule>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: emotion > interaction > work > walk > idle</rule>
    </state-machine>

    <interruption policy="allow-with-priority">
      <description>–í—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–µ—Ä—ã–≤–∞—é—Ç —Ç–µ–∫—É—â–∏–µ</description>
      <priority-order>
        <level value="1" name="critical" examples="death, damage" />
        <level value="2" name="high" examples="emotion, interaction" />
        <level value="3" name="normal" examples="work, walk" />
        <level value="4" name="low" examples="idle, ambient" />
      </priority-order>
    </interruption>
  </animation-transitions>

  <!-- –ü–†–ê–í–ò–õ–ê –°–û–ó–î–ê–ù–ò–Ø –°–ü–†–ê–ô–¢–û–í -->
  <sprite-creation-rules>
    <pixel-art-guidelines>
      <rule>–ß—ë—Ç–∫–∏–µ –ø–∏–∫—Å–µ–ª—å–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã, –±–µ–∑ anti-aliasing</rule>
      <rule>–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ —Ü–≤–µ—Ç–æ–≤ (–∏–∑ DESIGN_SYSTEM_PROMPT)</rule>
      <rule>–ò–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π —É–≥–æ–ª 2:1 (45¬∞) –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏ –æ–±—ä–µ–∫—Ç–æ–≤</rule>
      <rule>–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–≤–µ—Ç–∞ (–≤–µ—Ä—Ö–Ω–∏–π –ª–µ–≤—ã–π —É–≥–æ–ª)</rule>
      <rule>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞: 16-32 —Ü–≤–µ—Ç–∞ –Ω–∞ —Å–ø—Ä–∞–π—Ç</rule>
    </pixel-art-guidelines>

    <frame-consistency>
      <rule>–í—Å–µ –∫–∞–¥—Ä—ã –æ–¥–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏ –û–î–ò–ù–ê–ö–û–í–û–ì–û —Ä–∞–∑–º–µ—Ä–∞</rule>
      <rule>–ü–µ—Ä—Å–æ–Ω–∞–∂ –≤ –æ–¥–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ (–¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏)</rule>
      <rule>–¶–µ–Ω—Ç—Ä –º–∞—Å—Å –Ω–µ –ø—Ä—ã–≥–∞–µ—Ç –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏</rule>
      <rule>–ü–∏–∫—Å–µ–ª—å–Ω–∞—è —Å–µ—Ç–∫–∞ –≤—ã—Ä–æ–≤–Ω–µ–Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ</rule>
    </frame-consistency>

    <animation-smoothness>
      <rule>–ú–∏–Ω–∏–º—É–º 6 –∫–∞–¥—Ä–æ–≤ –¥–ª—è –ø–ª–∞–≤–Ω–æ–π loop –∞–Ω–∏–º–∞—Ü–∏–∏</rule>
      <rule>Ease-in/ease-out –¥–ª—è –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞ —Ü–∏–∫–ª–∞</rule>
      <rule>–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∫–∞–¥—Ä—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–≤–∏–∂–µ–Ω–∏–π</rule>
      <rule>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç—è—Ö (4-12 fps)</rule>
    </animation-smoothness>

    <size-optimization>
      <rule>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π bounding box –≤–æ–∫—Ä—É–≥ —Å–ø—Ä–∞–π—Ç–∞</rule>
      <rule>–û–±—Ä–µ–∑–∫–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π</rule>
      <rule>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ</rule>
      <rule>–ö–æ–º–ø—Ä–µ—Å—Å–∏—è WebP —Å quality 85-90%</rule>
    </size-optimization>
  </sprite-creation-rules>

  <!-- –û–¢–õ–ê–î–ö–ê –ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï -->
  <debugging-tools>
    <fps-counter visible="dev-mode" position="top-right" />
    <sprite-bounds visible="dev-mode" color="red" />
    <animation-state-display visible="dev-mode" position="bottom-left" />
    <frame-timeline visible="dev-mode" show="current-frame, fps, loop-count" />
    
    <hotkeys dev-only="true">
      <key name="F1" action="toggle-fps-counter" />
      <key name="F2" action="toggle-sprite-bounds" />
      <key name="F3" action="slow-motion" factor="0.25x" />
      <key name="F4" action="frame-by-frame" />
    </hotkeys>
  </debugging-tools>

  <!-- –ó–ê–ü–†–ï–¢–´ -->
  <forbidden>
    <practice name="gif-animations" reason="–ù–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è timing, –±–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä" />
    <practice name="video-sprites" reason="Overhead, –Ω–µ—Ç frame control" />
    <practice name="css-sprite-animations" reason="–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è canvas/game engine" />
    <practice name="different-frame-sizes" reason="–ù–∞—Ä—É—à–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å" />
    <practice name="anti-aliasing" reason="–†–∞–∑–º—ã–≤–∞–µ—Ç pixel art" />
    <practice name="rotation-scaling" reason="–ò—Å–∫–∞–∂–∞–µ—Ç pixel art, –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —É–≥–ª—ã" />
    <practice name="> 2048px atlas" reason="–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–∞—Ä—ã—Ö GPU" />
    <library name="lottie" reason="–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è pixel art game" />
    <library name="anime.js" reason="–ò–∑–±—ã—Ç–æ—á–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ–º custom animation loop" />
  </forbidden>

  <!-- –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ö–û–ú–ú–ò–¢–û–ú -->
  <commit-checklist>
    <check>‚úÖ –í—Å–µ –∫–∞–¥—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞</check>
    <check>‚úÖ Atlas < 500KB –ø–æ—Å–ª–µ –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏</check>
    <check>‚úÖ FPS —É–∫–∞–∑–∞–Ω –≤ atlas-config.json</check>
    <check>‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è –ø–ª–∞–≤–Ω–∞—è –ø—Ä–∏ —Ü–µ–ª–µ–≤–æ–º FPS</check>
    <check>‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è (alpha channel)</check>
    <check>‚úÖ –ù–µ—Ç anti-aliasing –Ω–∞ –ø–∏–∫—Å–µ–ª—å–Ω—ã—Ö –∫—Ä–∞—è—Ö</check>
    <check>‚úÖ –¶–≤–µ—Ç–∞ –∏–∑ —É—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–π –ø–∞–ª–∏—Ç—Ä—ã</check>
    <check>‚úÖ Naming convention —Å–æ–±–ª—é–¥—ë–Ω</check>
    <check>‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏</check>
    <check>‚úÖ Loop –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ—Ç—Å—è –ø–ª–∞–≤–Ω–æ</check>
  </commit-checklist>

  <!-- –†–ï–§–ï–†–ï–ù–°–´ –ò –í–î–û–•–ù–û–í–ï–ù–ò–ï -->
  <references>
    <primary>
      <game name="Punch Club" reason="–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π" />
      <game name="Stardew Valley" reason="–£—é—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞, –ø–ª–∞–≤–Ω–æ—Å—Ç—å" />
    </primary>
    <secondary>
      <game name="Undertale" reason="–í—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏" />
      <game name="Celeste" reason="–ü–ª–∞–≤–Ω–æ—Å—Ç—å pixel art –∞–Ω–∏–º–∞—Ü–∏–π" />
    </secondary>
  </references>

</animation-system>
